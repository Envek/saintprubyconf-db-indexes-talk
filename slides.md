---
theme: default
highlighter: shiki
lineNumbers: false
title: '–ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º –±–∞–∑—É: –∫–∞–∫ –¥–µ–ª–∞—Ç—å —Ö–æ—Ä–æ—à–æ –∏ –Ω–µ –¥–µ–ª–∞—Ç—å –ø–ª–æ—Ö–æ'
info: |
  –ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º –±–∞–∑—É: –∫–∞–∫ –¥–µ–ª–∞—Ç—å —Ö–æ—Ä–æ—à–æ –∏ –Ω–µ –¥–µ–ª–∞—Ç—å –ø–ª–æ—Ö–æ
fonts:
  provider: 'none'
  fallback: false
  local: 'Martian Grotesk,Martian Mono'
  sans: 'Martian Grotesk'
  serif: 'Martian Grotesk'
  mono: 'Martian Mono'
drawings:
  persist: false

layout: cover
---

# –ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º –±–∞–∑—É<br /><small>–∫–∞–∫ –¥–µ–ª–∞—Ç—å <span class="wobbling wobbling-a">—Ö–æ—Ä–æ—à–æ</span><br />–∏ –Ω–µ –¥–µ–ª–∞—Ç—å <span class="wobbling wobbling-b">–ø–ª–æ—Ö–æ</span></small>

<div class="absolute bottom-0 my-2">
–ù–æ–≤–∏–∫–æ–≤ –ê–Ω–¥—Ä–µ–π<br />
<small><a href="https://kommunity.com/saintpruby/events/fall-2021-meetup-26df1ea3">Winter Saint P 2021 meetup</a></small>
</div>

<div class="absolute bottom-0 right-0 h-40 scaled-image flex">
  <a href="https://evilmartians.com/" class="w-40 h-40 p-3"><img alt="Evil Martians" src="/images/01_Evil-Martians_Logo_v2.1_RGB.svg" /></a>
  <a href="https://kommunity.com/saintpruby" class="w-40 h-40"><img alt="Saint P Ruby Community" src="/images/saintpruby-logo.png" /></a>
</div>

<style>
  a { border-bottom: none !important; }

  .wobbling {
    animation-duration: 1s;
    animation-name: wobbling;
    animation-iteration-count: infinite;
    animation-direction: alternate;
  }

  .wobbling-a {
    animation-direction: alternate;
  }

  .wobbling-b {
    animation-direction: alternate-reverse;
  }

  @keyframes wobbling {
    from {
      font-stretch: 3%;
    }

    to {
      font-stretch: 9%;
    }
  }
</style>

<!--
–ù—É —á—Ç–æ, –ø–æ–≥–æ–≤–æ—Ä–∏–º –µ—â—ë –Ω–µ–º–Ω–æ–≥–æ –ø—Ä–æ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö? –ù–µ –æ—Ç–Ω–µ–∫–∏–≤–∞–π—Ç–µ—Å—å, —è –∂–µ –≤–∏–∂—É ‚Äî –≤—ã —Ö–æ—Ç–∏—Ç–µ —ç—Ç–æ–≥–æ.
-->

---
layout: full
---

<a href="https://github.com/Envek/"><img src="/images/github-envek.png" class="object-contain text-center m-auto h-full w-full max-h-full max-w-full" /></a>

<!--
–í—Å–µ–º –ø—Ä–∏–≤–µ—Ç! –ú–µ–Ω—è –∑–æ–≤—É—Ç –ê–Ω–¥—Ä–µ–π‚Ä¶
-->

---

<a href="https://evilmartians.com/"><img alt="Evil Martians" src="/images/evil-martians-px.svg" class="object-contain text-center m-auto max-h-112"/></a>

<!--
‚Ä¶–∏ —è —Ç–æ–∂–µ –ú–∞—Ä—Å–∏–∞–Ω–∏–Ω.
-->

---

<a href="https://evilmartians.com/"><img alt="Piter Martians" src="/images/Evil-Martians_Logo_Piter.png" class="object-contain text-center m-auto max-h-112"/></a>

<!--
–ú–∞—Ä—Å–∏–∞–Ω–µ –ª—é–±—è—Ç –ü–∏—Ç–µ—Ä. –£ –Ω–∞—Å –¥–∞–∂–µ –æ—Ñ–∏—Å –±—ã–ª –≤ –ü–∏—Ç–µ—Ä–µ, —Ç–æ–ª—å–∫–æ –º—ã –µ–≥–æ –∑–∞–∫—Ä—ã–ª–∏, —Ç–∞–∫ –∫–∞–∫ –Ω–∏–∫—Ç–æ –≤ –Ω–µ–≥–æ –Ω–µ —Ö–æ–æ–¥–∏–ª. –£–¥–∞–ª—ë–Ω—â–∏–∫–∏ –º—ã –¥–æ –º–æ–∑–≥–∞ –∫–æ—Å—Ç–µ–π, —á—Ç–æ –ø–æ–¥–µ–ª–∞—Ç—å.
-->

---

# –ú–∞—Ä—Å–∏–∞–Ω—Å–∫–∏–π Open Source

<div class="grid grid-cols-4 grid-rows-2 gap-4">
  <a href="https://github.com/yabeda-rb/yabeda">
    <figure>
      <img alt="Yabeda" src="/images/martian-oss/yabeda.svg" class="scaled-image h-40 mx-auto" />
      <figcaption>Yabeda: Ruby application instrumentation framework</figcaption>
    </figure>
  </a>
  <a href="https://github.com/evilmartians/lefthook">
    <figure>
      <img alt="LeftHook" src="/images/martian-oss/lefthook.svg" class="scaled-image h-40 mx-auto" />
      <figcaption>Lefthook: git hooks manager</figcaption>
    </figure>
  </a>
  <a href="https://anycable.io/">
    <figure>
      <img alt="AnyCable" src="/images/martian-oss/anycable.svg" class="scaled-image h-40 mx-auto" />
      <figcaption>AnyCable: Polyglot replacement for ActionCable server</figcaption>
    </figure>
  </a>
  <a href="https://postcss.org/">
    <figure>
      <img alt="PostCSS" src="/images/martian-oss/postcss.svg" class="scaled-image h-40 mx-auto" />
      <figcaption>PostCSS: A tool for transforming CSS with JavaScript</figcaption>
    </figure>
  </a>
  <a href="https://imgproxy.net/">
    <figure>
      <img alt="Imgproxy" src="/images/martian-oss/imgproxy.svg" class="scaled-image h-40 mx-auto" />
      <figcaption>Imgproxy: Fast and secure standalone server for resizing and converting remote images</figcaption>
    </figure>
  </a>
  <a href="https://logux.io/">
    <figure>
      <img alt="Logux" src="/images/martian-oss/logux.svg" class="scaled-image h-40 mx-auto" />
      <figcaption>Logux: Client-server communication framework based on Optimistic UI, CRDT, and log</figcaption>
    </figure>
  </a>
  <a href="https://github.com/DarthSim/overmind">
    <figure>
      <img alt="Overmind" src="/images/martian-oss/overmind.svg" class="scaled-image h-40 mx-auto" />
      <figcaption>Overmind: Process manager for Procfile-based applications and tmux </figcaption>
    </figure>
  </a>
  <a href="https://evilmartians.com/oss">
    <figure>
      <div class="h-40 text-2xl flex items-center justify-center">
        <qr-code-vue value="https://evilmartians.com/oss" class="scaled-image w-full h-full mx-auto p-4" render-as="svg" />
      </div>
      <figcaption style="font-size: 0.5rem;">–ò –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ –Ω–∞ evilmartians.com/oss</figcaption>
    </figure>
  </a>
</div>

<style>
  a { border-bottom: none !important; }
  figcaption {
    font-size: 0.4rem;
    line-height: 1rem;
  }
</style>

<!--
–ú–∞—Ä—Å–∏–∞–Ω–µ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —Å–µ–±–µ –Ω–∞ —Ö–ª–µ–± –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –∑–∞–∫–∞–∑–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π –∏ –∫–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥–æ–º –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤, –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —à—Ç–∞—Ç–æ–≤—Å–∫–∏—Ö —Å—Ç–∞—Ä—Ç–∞–ø–æ–≤, –Ω–æ –Ω–∞—Å –≤—ã —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –∑–Ω–∞–µ—Ç–µ –ø–æ –Ω–∞—à–∏–º –æ–ø–µ–Ω—Å–æ—Ä—Å-–ø—Ä–æ–µ–∫—Ç–∞–º, –∫–æ—Ç–æ—Ä—ã–º–∏ –º—ã –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –≥–æ—Ä–¥–∏–º—Å—è –∏ –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏–∑–≤–ª–µ—á–µ–Ω—ã –∏–∑ –Ω–µ–¥—Ä –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –º—ã —É—Å–∏–ª–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏—Ö –≤–µ–∑–¥–µ, –≥–¥–µ —Ç–æ–ª—å–∫–æ –º–æ–∂–Ω–æ. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏ –≤—ã.

–ö—Å—Ç–∞—Ç–∏, –≤–æ—Ç —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç, –Ø–±–µ–¥–∞ ‚Äî –º–æ—ë –¥–µ—Ç–∏—â–µ.
-->

---

# –ó–∞—á–µ–º –º–Ω–µ –∑–Ω–∞—Ç—å –ø—Ä–æ –∏–Ω–¥–µ–∫—Å—ã?

–ê –≥–ª–∞–≤–Ω–æ–µ ‚Äî –Ω–∞—Ñ–∏–≥–∞ –æ–Ω–æ –≤—Å—ë Ruby-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É?

 - –î–∞–Ω–Ω—ã–µ ‚Äî –≥–ª–∞–≤–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
 - –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ –°–£–ë–î –ø–ª–æ—Ö–æ –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ.
 - –¢–∞–∫ —Å–ª–æ–∂–∏–ª–æ—Å—å, —á—Ç–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞ Ruby on Rails —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —Ñ–∏—á–∏ —Ü–µ–ª–∏–∫–æ–º (–≤–∫–ª—é—á–∞—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö)
 - –ò –Ω–µ –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å DBA –ø–æ–¥ —Ä—É–∫–æ–π

<br />

**–ü–æ–ª–µ–∑–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, –∫–∞–∫ –æ–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —á—Ç–æ –º–æ–∂–µ—Ç, —á—Ç–æ–±—ã –Ω–µ –ø–æ–ª–æ–∂–∏—Ç—å –ø—Ä–æ–¥–∞–∫—à–µ–Ω —Ä–∞–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏.**

<!--
–î–∞–≤–∞–π—Ç–µ –∂–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å—É—Ç–∏!

–¢–∏–ø–∏—á–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Äî —ç—Ç–æ –≤ —Ü–µ–ª–æ–º —ç—Ç–∞–∫–∞—è –Ω–∞–¥—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–¥ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. –ü–æ—Ç–æ–º—É —á—Ç–æ –¥–∞–Ω–Ω—ã–µ ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–µ—Å–ª–∏ –ø—Ä–æ—Ç–µ—Ä—è–µ—Ç–µ –±–æ–µ–≤—É—é –±–∞–∑—É, —Ç–æ –º–æ–∂–Ω–æ —Ç—É—à–∏—Ç—å —Å–≤–µ—Ç, –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Å—Ç–∞—Ä—Ç–∞–ø, –±—Ä–∞—Ç—å –ø–æ—Ä—Ç–≤–µ–π–Ω –∏ –∏–¥—Ç–∏ –¥–æ–º–æ–π).

–ü—Ä–∏ —ç—Ç–æ–º —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞, –∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, —è–≤–ª—è–µ—Ç—Å—è –±—É—Ç—ã–ª–æ—á–Ω—ã–º –≥–æ—Ä–ª—ã—à–∫–æ–º –≤ –ø–ª–∞–Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ —Ç—è–∂–µ–ª–æ –ø–æ–¥–¥–∞—ë—Ç—Å—è –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–º—É –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é.

–ò, –ø–æ—Å–∫–æ–ª—å–∫—É –º—ã –≤–æ—Å–ø–∏—Ç–∞–Ω—ã —Ä–µ–ª—å—Å–æ–π, –≤ –∫–æ—Ç–æ—Ä–æ–π –µ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –º–æ–¥–µ–ª–µ–∫, –º–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –≤–æ—Ç —ç—Ç–∞ –≤—Å—è –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è –º–∞—à–∏–Ω–µ—Ä–∏—è, –¥–æ –∫–æ—Ç–æ—Ä–æ–π –µ—â—ë –Ω–µ –≤–µ–∑–¥–µ –≤ –¥–∂–∞–≤–µ –¥–æ—Ä–æ—Å–ª–∏, –¥–∞ –∏ –≤–æ–æ–±—â–µ –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Ç–∞–∫–æ–π —Ñ—É–ª–ª—Å—Ç–µ–∫–æ–≤—ã–π, —Ç–æ –º—ã –ø—Ä–∏–≤—ã–∫–ª–∏ —Å–∞–º–∏ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–µ–±–µ –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö (–¥–∞ –∏ –º–Ω–æ–≥–∏–µ –ª–∏ —Å—Ç–∞—Ä—Ç–∞–ø—ã –º–æ–≥—É—Ç —Å–µ–±–µ –ø–æ–∑–≤–æ–ª–∏—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ DBA –∏–ª–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–∞?)

–í –æ–±—â–µ–º, –±–∞–∑—ã —Ç—Ä–µ–±—É—é—Ç –ø–æ–≤—ã—à–µ–Ω–Ω–æ–≥–æ –∫ —Å–µ–±–µ –≤–Ω–∏–º–∞–Ω–∏—è. –ò —Ö–æ—Ä–æ—à–æ –±—ã –Ω–µ –ª–∞–∂–∞—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ–±—ã –±—ã–ª–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ—Ä–∞—Å—Ç–∏ –¥–æ —Ç–∞–∫–æ–π —Å—Ç–∞–¥–∏–∏, –∫–æ–≥–¥–∞ –∫–æ–º–ø–∞–Ω–∏—è –º–æ–∂–µ—Ç —Å–µ–±–µ –ø–æ–∑–≤–æ–ª–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ DBA.

–°–ø–æ–π–ª–µ—Ä: –¥–∞ –∏ –ø–æ—Ä–æ–π –ø—Ä–æ—â–µ –∑–∞–±–æ—Ç–∞—Ç—å —Å–∞–º–∏–º –∏ —Å—Ç–∞—Ç—å —Å–∞–º–∏–º —Å–µ–±–µ DBA, —á–µ–º –¥–æ–∂–¥–∞—Ç—å—Å—è —ç—Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞.
-->

---

## Disclaimer

–î–æ–∫–ª–∞–¥ –±—É–¥–µ—Ç –ø—Ä–æ PostgreSQL, –Ω–æ –º–Ω–æ–≥–∏–µ –≤–µ—â–∏ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤—ã –∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö SQL (–∏ –¥–∞–∂–µ –ø–æ—Ä–æ–π NoSQL) —Å–∏—Å—Ç–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

<div class="text-9xl flex items-center justify-center my-28">
  <img alt="Evil Martians" src="/images/01_Evil-Martians_Logo_v2.1_RGB.svg" class="slidev-icon m-8" style="height: 1.2em; width: 1.2em;" />
  <twemoji-red-heart class="m-8" />
  <logos-postgresql class="m-8" />
</div>

<!--
–ì–æ–≤–æ—Ä–∏—Ç—å –æ–± –∏–Ω–¥–µ–∫—Å–∞—Ö –º—ã –±—É–¥–µ–º –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ PostgreSQL, –ø—Ä–æ—Å—Ç–æ –ø–æ—Ç–æ–º—É —á—Ç–æ –ú–∞—Ä—Å–∏–∞–Ω–µ –ª—é–±—è—Ç –ü–æ—Å—Ç–≥—Ä–µ—Å! –í–ø—Ä–æ—á–µ–º, –º–Ω–æ–≥–æ–µ, –æ—á–µ–Ω—å –º–Ω–æ–≥–æ–µ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ –∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö.
-->

---
layout: intro
---

# –ß—Ç–æ –µ—â—ë –∑–∞ –∏–Ω–¥–µ–∫—Å—ã?

–ú–æ–∂–µ—Ç, –Ω–µ –Ω–∞–¥–æ, –∞?

---

## –ó–∞—á–µ–º –Ω—É–∂–Ω—ã –∏–Ω–¥–µ–∫—Å—ã?

SQL ‚Äî¬†–¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π —è–∑—ã–∫.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç, _—á—Ç–æ_ —Ö–æ—á–µ—Ç –ø–æ–ª—É—á–∏—Ç—å, –°–£–ë–î –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, _–∫–∞–∫_ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å.

–ò –º—ã –º–æ–∂–µ–º –µ–π –ø–æ–º–æ—á—å, –¥–∞–≤ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ ¬´—Å–ª–æ–≤–∞—Ä–∏¬ª!

<!-- –ö–∞–∫ –∏–º–µ–Ω–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –∫ –Ω–∏–º –¥–æ—Å—Ç—É–ø –°–£–ë–î —Ä–µ—à–∞–µ—Ç —Å–∞–º–∞, —É —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —ç—Ç–æ–º—É –º–æ–∂–µ—Ç –∏ –Ω–µ –±—ã—Ç—å -->

---
layout: footnote
---

## –ò —á—Ç–æ –∂–µ —Ç–∞–∫–æ–µ –∏–Ω–¥–µ–∫—Å?

–í—Ç–æ—Ä–∏—á–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤\*, –Ω–æ –º–æ–∂–µ—Ç —É—Å–∫–æ—Ä–∏—Ç—å –µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.

–ï—â—ë –∏–Ω–¥–µ–∫—Å—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ (–ø–µ—Ä–≤–∏—á–Ω—ã–µ –∏ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏).

::footnote::

\* –ù–∞–ª–∏—á–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –º–æ–∂–µ—Ç –ø–æ–º–µ–Ω—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ –≤ –∑–∞–ø—Ä–æ—Å–µ –Ω–µ —É–∫–∞–∑–∞–Ω ORDER BY, –∞ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä–µ—à–∏–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å.

<!--
–ß—Ç–æ –∑–Ω–∞—á–∏—Ç –≤—Ç–æ—Ä–∏—á–Ω–∞—è ‚Äî¬†–∏–Ω–¥–µ–∫—Å –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ –Ω–∏–∫–∞–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—É—é –Ω–µ–ª—å–∑—è –±—ã–ª–æ –±—ã –ø–æ–ª—É—á–∏—Ç—å –∏–∑ —Å–∞–º–æ–π —Ç–∞–±–ª–∏—Ü—ã. –ò–Ω–¥–µ–∫—Å –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å.

–ü–æ—Ä—è–¥–æ–∫ —Å—Ç—Ä–æ–∫ –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è ORDER BY –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–µ SQL, –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ –Ω–µ –±–∞–≥, –∞ –¥–µ—Ç–∞–ª—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.
-->

---

## –ü–æ—á–µ–º—É –Ω–µ –∑–∞–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë?

 - –ò–Ω–¥–µ–∫—Å—ã –∑–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ
 - –ò–Ω–¥–µ–∫—Å—ã –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å
   - –∑–∞–º–µ–¥–ª–µ–Ω–∏–µ –≤—Å—Ç–∞–≤–æ–∫ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
   - write amplification
 - –ø–æ–ª–µ–∑–Ω—ã –Ω–µ –≤—Å–µ–≥–¥–∞
   - –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –º–æ–∂–µ—Ç –Ω–µ –∑–∞—Ö–æ—Ç–µ—Ç—å –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
   - –Ω–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å –º–æ–∂–µ—Ç –æ–∫–∞–∑–∞—Ç—å—Å—è –º–µ–¥–ª–µ–Ω–Ω–µ–µ —Å—Ç–∞—Ä–æ–≥–æ


<!--
–ú–æ–∂–µ—Ç –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–±–ª–∞–∑–Ω –∑–∞–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë –∫ —á—ë—Ä—Ç–æ–≤–æ–π –±–∞–±—É—à–∫–µ, –Ω–æ –Ω–∞–¥–æ –≥–Ω–∞—Ç—å –æ—Ç —Å–µ–±—è –Ω—ç—Ç–æ –Ω–∞–≤–∞–∂–¥–µ–Ω–∏–µ.

–ò —Ö–æ—Ç—å —Ç–æ, —á—Ç–æ –∏–Ω–¥–µ–∫—Å—ã –∑–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ –∏ –∫–∞–∂–µ—Ç—Å—è –∏ —è–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –º–∏–Ω–æ—Ä–Ω–æ–π —à—Ç—É–∫–æ–π ‚Äî –¥–∏—Å–∫–∏ —Å–µ–π—á–∞—Å –¥–µ—à—ë–≤—ã–µ, –Ω–æ –≤–æ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º—ã—Ö –ø–æ–ª–µ–π –æ–±–Ω–æ–≤–ª—è—Ç—å –≤—Å–µ –ø—Ä–∏—á–∞—Å—Ç–Ω—ã–µ –∫ –Ω–µ–º—É –∏–Ω–¥–µ–∫—Å—ã –≤–ø–æ–ª–Ω–µ –º–æ–∂–µ—Ç –ø–æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –∫–æ–ª–µ–Ω–∏ –¥–∞–∂–µ —Å–∞–º—ã–π –º–æ—â–Ω—ã–π —Å–µ—Ä–≤–µ—Ä —Å –¥–æ—Ä–æ–≥–æ–π –°–•–î ‚Äî –ø—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ –≤–µ—Å—å–º–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è –æ—Ö –∫–∞–∫ –ø–ª–æ—Ö–æ (–∏ –¥–æ—Ä–æ–≥–æ).
-->

---

## –í—Å–µ–≥–¥–∞ –ª–∏ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å?

<div class="absolute inset-0 text-2xl flex items-center justify-center nb">
  –ù—É, –Ω–µ—Ç
</div>


<!-- –ù–∞–≤–µ—Ä–Ω–æ–µ, –≤—Å—ë –∂–µ –Ω–µ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –±–µ–∑–¥—É–º–Ω–æ -->

---
layout: footnote
footnoteClass: text-xs
---
## –ê –∫–æ–≥–¥–∞ –Ω–µ —Å—Ç–æ–∏—Ç?

 - –ï—Å–ª–∏ —Ä–∞–∑–º–µ—Ä —Ç–∞–±–ª–∏—Ü—ã –º–∞–ª\* (—Å–æ—Ç–Ω–∏/—Ç—ã—Å—è—á–∏ –∑–∞–ø–∏—Å–µ–π) –∏ –æ–Ω–∞ –Ω–µ –±—É–¥–µ—Ç —Ä–∞—Å—Ç–∏
 - –ò–ª–∏ –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–µ–¥–∫–æ –∏ —Å–∫–æ—Ä–æ—Å—Ç—å –µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞
 - –ï—Å–ª–∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –æ—Ç–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –¥—Ä—É–≥–∏–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ (–º—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã)

::footnote::

\* –õ–æ–∫–∞–ª—å–Ω–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `SET enable_seqscan = off;`, —á—Ç–æ–±—ã –∑–∞—Å—Ç–∞–≤–∏—Ç—å –°–£–ë–î –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å.

<!--
–ù–µ —Å—Ç–æ–∏—Ç –Ω–∞–≤–µ—à–∏–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ –∫—Ä–æ—à–µ—á–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã ‚Äî¬†–≤—Å—è–∫–∏–µ —Ç–∞–º —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ –≤ –∂–∞–ª–∫—É—é —Å–æ—Ç–Ω—é –∑–∞–ø–∏—Å–µ–π.

–°–£–ë–î –¥–∞–∂–µ –Ω–µ –±—É–¥–µ—Ç –ø—ã—Ç–∞—Ç—å—Å—è –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –ø–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –ª–∏—à–Ω–∏–µ —Ç–µ–ª–æ–¥–≤–∏–∂–µ–Ω–∏—è (–º—ã –æ–± —ç—Ç–æ–º –ø–æ–≥–æ–≤–æ—Ä–∏–º –±—É–∫–≤–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ –º–∏–Ω—É—Ç—É).

–ù–µ –≤—Å–µ–≥–¥–∞ —Å—Ç–æ–∏—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ —Ä–∞–±–æ—Ç—É —Ä–µ–¥–∫–∏—Ö –∏–Ω–¥–µ–∫—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–∑ –≤ –¥–µ–Ω—å –∏–ª–∏ –Ω–µ–¥–µ–ª—é —Å–æ–±–∏—Ä–∞—é—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, —Å—Ç—Ä–æ—è—Ç –æ—Ç—á—ë—Ç—ã –∏ —Ç–æ–º—É –ø–æ–¥–æ–±–Ω–∞—è OLAP-–Ω–∞–≥—Ä—É–∑–∫–∞. –ï—Å–ª–∏ –∂–µ —ç—Ç–∏ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞—Å—Ç–æ–ª—å–∫–æ —Ç—è–∂—ë–ª—ã–µ, —á—Ç–æ –ª–æ–∂–∞—Ç –≤–∞–º —Å–µ—Ä–≤–µ—Ä —Å –±–∞–∑–æ–π –∫–∞–∂–¥—É—é –Ω–æ—á—å, —Ç–æ –ª—É—á—à–µ –ø–æ–¥–Ω—è—Ç—å —Ä–µ–ø–ª–∏–∫—É –∏ –≥–æ–Ω—è—Ç—å —ç—Ç–∏ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –Ω–µ–π, —á–µ–º –Ω–∞–≤–µ—à–∏–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å –∏ –ø–æ—Ä—Ç–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—Å—Ç–∞–≤–æ–∫ –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è.

–ù—É –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–µ–π—Å: –µ—Å–ª–∏ —É –≤–∞—Å –º—É–ª—å—Ç–∏—Ç–µ–Ω–∞–Ω—Ç–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, —É –≤–∞—Å –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤—Å–µ–≥–¥–∞ –≤ —Å–∫–æ—É–ø–µ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∏ —É –≤–∞—Å –Ω–µ—Ç –∫–∞–∫–∏—Ö-—Ç–æ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –±–æ–ª—å—à–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø–æ–ª–±–∞–∑—ã —Ä–∞–∑–º–µ—Ä–æ–º), —Ç–æ –≤–∞–º –Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –∏–Ω–¥–µ–∫—Å –ø–æ —É—Å–ª–æ–≤–Ω–æ–º—É `user_id` –Ω–æ –ø—Ä–æ —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –º—ã —Ç–æ–∂–µ –µ—â—ë –ø–æ–≥–æ–≤–æ—Ä–∏–º.
-->

---

## –ê –∫–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç?

 - –ö–æ–≥–¥–∞ —É—Å–∫–æ—Ä–µ–Ω–∏–µ –æ—Ç –∏–Ω–¥–µ–∫—Å–∞ –ø–µ—Ä–µ–≤–µ—à–∏–≤–∞–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –æ—Ç –ø–æ—Ö–æ–¥–∞ –≤ –∏–Ω–¥–µ–∫—Å
   1. –ö–æ–≥–¥–∞ –Ω–∞–¥–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ–±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã
   2. –†–µ–∑—É–ª—å—Ç–∞—Ç –Ω—É–∂–Ω–æ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
 - –ö–æ–≥–¥–∞ –∏–Ω–¥–µ–∫—Å –µ—â—ë –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–º—è—Ç—å, –∞ —Ç–∞–±–ª–∏—Ü–∞ ‚Äî —É–∂–µ –Ω–µ—Ç
 - –ö–æ–≥–¥–∞ –æ–∂–∏–¥–∞–µ—Ç—Å—è, —á—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ –±—É–¥–µ—Ç —Ä–∞—Å—Ç–∏
 - –ò–ª–∏ —ç—Ç–æ –≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è JOIN—ã

<!--

–ù—É –∏ –æ—Ç–¥–µ–ª—å–Ω–æ –¥–∞–≤–∞–π—Ç–µ –ø—Ä–æ–≥–æ–≤–æ—Ä–∏–º, –∫–æ–≥–¥–∞ –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –Ω—É–∂–Ω—ã.

–ì–ª–∞–≤–Ω–æ–µ, –¥–ª—è —á–µ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –∏–Ω–¥–µ–∫—Å ‚Äî —ç—Ç–æ —Å–∏—Ç—É–∞—Ü–∏—è –≤–∏–¥–∞ ¬´–Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –∏–≥–æ–ª–∫—É –≤ —Å—Ç–æ–≥–µ —Å–µ–Ω–∞¬ª. –ö–æ–≥–¥–∞ –∏–∑ –æ–≥—Ä–æ–º–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã –≤–∞–º –Ω—É–∂–Ω–æ –≤—ã—Ç–∞—â–∏—Ç—å –±—É–∫–≤–∞–ª—å–Ω–æ –æ–¥–Ω—É, –¥–µ—Å—è—Ç—å –∏–ª–∏ —Å—Ç–æ –∑–∞–ø–∏—Å–µ–π. –ù—É, –≤ –æ–±—â–µ–º, –º–∞–ª–æ, –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å —Ä–∞–∑–º–µ—Ä–æ–º —Å–∞–º–æ–π —Ç–∞–±–ª–∏—Ü—ã. –í–æ—Ç —ç—Ç–æ —Ç–æ—Ç —é–∑–∫–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç—Å—è –æ—á–µ–Ω—å –∑–Ω–∞—á–∏–º–æ.

–í—Ç–æ—Ä–æ–π –≤–∞–∂–Ω—ã–π —Å–ª—É—á–∞–π ‚Äî —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞. –ü–æ—Å–∫–æ–ª—å–∫—É –∏–Ω–¥–µ–∫—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, BTree, —Ö—Ä–∞–Ω–∏—Ç –≤ —Å–µ–±–µ –¥–∞–Ω–Ω—ã–µ —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏, —Ç–æ –¥–æ—Å—Ç–∞—Ç—å –∏—Ö –≤ –ø–æ—Ä—è–¥–∫–µ –∏–Ω–¥–µ–∫—Å–∞ ‚Äî –ø–ª—ë–≤–æ–µ –¥–µ–ª–æ.

–ù–µ —Å—Ç–æ–∏—Ç –∑–∞–±—ã–≤–∞—Ç—å, —á—Ç–æ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å –≤—Å—ë –µ—â—ë –æ—â—É—Ç–∏–º–æ –±—ã—Å—Ç—Ä–µ–µ –¥–∏—Å–∫–æ–≤, –¥–∞–∂–µ SSD, –ø–æ—ç—Ç–æ–º—É –æ–±–æ–π—Ç–∏ –º–∞–ª–µ–Ω—å–∫–∏–π –∏–Ω–¥–µ–∫—Å –≤ –ø–∞–º—è—Ç–∏ –±—É–¥–µ—Ç –Ω–∞ –ø–æ—Ä—è–¥–∫–∏ –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º —Å—Ö–æ–¥–∏—Ç—å –Ω–∞ –¥–∏—Å–∫ –∑–∞ —Ç–∞–±–ª–∏—á–∫–æ–π, –∫–æ—Ç–æ—Ä–∞—è —É–∂–µ –º–æ–∂–µ—Ç –≤ –ø–∞–º—è—Ç—å –Ω–µ –ø–æ–º–µ—â–∞—Ç—å—Å—è.

–ù—É –∏ JOIN'—ã. –ö–æ–≥–¥–∞ –º—ã –Ω–∞—á–∏–Ω–∞–µ–º —Å–æ–µ–¥–∏–Ω—è—Ç—å —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑ –∏–Ω–¥–µ–∫—Å–∞, –º–æ–∂–Ω–æ –æ—á–µ–Ω—å —Ç–∞–∫ –∫–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–µ–Ω—å–∫–æ –ø–æ–ø–∞—Å—Ç—å –ø–æ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∏ –ø–æ—Å–µ–¥–µ—Ç—å —Ä–∞–Ω—å—à–µ, —á–µ–º –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è.

-->

---

## –ü–∞–¥–∞–∂–∂–∏

> –∫–æ–≥–¥–∞ –Ω–∞–¥–æ –≤—ã–±—Ä–∞—Ç—å –Ω–µ–±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ä–∞–∑–º–µ—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã

–ê –∫–∞–∫ –°–£–ë–î —ç—Ç–æ –ø–æ–Ω–∏–º–∞–µ—Ç?

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞!**

–°–£–ë–î –∑–Ω–∞–µ—Ç –æ –∫–∞–∂–¥–æ–π –∫–æ–ª–æ–Ω–∫–µ:
 - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö
 - –∏—Ö —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω–æ—Å—Ç—å (–∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è)
 - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
 - –∏—Ö –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ (–≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞)

–ò –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ –ø—Ä–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±–µ–∑—É–º–Ω–æ –≤–∞–∂–Ω–∞!**

<!-- –ü–æ–≥–æ–¥–∏—Ç–µ-–∫–∞, —á—Ç–æ –µ—â—ë –∑–Ω–∞–µ—Ç –æ–±–æ –º–Ω–µ –°–£–ë–î, —á–µ–≥–æ –Ω–µ –∑–Ω–∞—é —è? -->

---

## –ö–∞–∫ –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å PostgreSQL

 - seq scan - –æ–±–æ–π—Ç–∏ –≤—Å—é —Ç–∞–±–ª–∏—á–∫—É –Ω–∞ –¥–∏—Å–∫–µ, —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π
 - index only scan - –¥–æ—Å—Ç–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –∏–∑ –∏–Ω–¥–µ–∫—Å–∞
 - index scan - —Å—Ö–æ–¥–∏—Ç—å –≤ –∏–Ω–¥–µ–∫—Å, —Å—Ö–æ–¥–∏—Ç—å –≤ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –¥–∏—Å–∫–µ
 - bitmap index scan + heap scan ‚Äî —Å—Ö–æ–¥–∏—Ç—å –≤ –∏–Ω–¥–µ–∫—Å, –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –±–∏—Ç–æ–≤—É—é –∫–∞—Ä—Ç—É –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü, –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏—Ö –≤—Å–µ, –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å‚Ä¶

## –ö–∞–∫ –≤—ã–±–∏—Ä–∞–µ—Ç?

 - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø–µ—Ä–µ–±–∏—Ä–∞–µ—Ç –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
 - —Å—á–∏—Ç–∞–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ (—Å —É—á—ë—Ç–æ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏)
 - –≤—ã–±–∏—Ä–∞–µ—Ç —Å–∞–º—ã–π –¥–µ—à—ë–≤—ã–π _(–∫–∞–∫ –µ–º—É –∫–∞–∂–µ—Ç—Å—è)_

<!-- –°—Ç–æ–∏–º–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤ —É—Å–ª–æ–≤–Ω—ã—Ö –ø–æ–ø—É–≥–∞—è—Ö –∏ —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –∏–∑ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ–π –≤—Ä–µ–º–µ–Ω–∏, –Ω—É–∂–Ω–æ–≥–æ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö —Å –¥–∏—Å–∫–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞–º—è—Ç–∏. –ï—Å–ª–∏ –ê–∫–µ–ª–ª–∞ –ø—Ä–æ–º–∞—Ö–Ω—ë—Ç—Å—è —Å –æ—Ü–µ–Ω–∫–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏‚Ä¶ -->

---

## Seq scan

–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —á–∏—Ç–∞–µ–º –≤—Å—é —Ç–∞–±–ª–∏—Ü—É, —Å—Ä–∞–∑—É –æ—Ç–¥–∞—ë–º –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—É –ø–∞—á–∫–∞–º–∏ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫—É—Ä—Å–æ—Ä—ã).

–ü—Ä–æ—Å—Ç–æ, —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ HDD, –ª–∏–Ω–µ–π–Ω–æ–µ –≤—Ä–µ–º—è.

–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω–æ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Äî —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ö—É–∂–µ.

---

## Index scan

–ò—â–µ–º —Ç—Ä–µ–±—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∏–Ω–¥–µ–∫—Å–µ, —Å–º–æ—Ç—Ä–∏–º, –≥–¥–µ –æ–Ω–∏ –ª–µ–∂–∞—Ç –Ω–∞ –¥–∏—Å–∫–µ, –∏–¥—ë–º –Ω–∞ –¥–∏—Å–∫, –ø–æ–≤—Ç–æ—Ä—è–µ–º.

–õ–æ–≥–∞—Ä–∏—Ñ–º–∏—á–µ—Å–∫–æ–µ –≤—Ä–µ–º—è, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤ –∏–Ω–¥–µ–∫—Å–µ, –ª–∏–Ω–µ–π–Ω–æ–µ ‚Äî¬†—á—Ç–æ–±—ã —Å—á–∏—Ç–∞—Ç—å.

–í —Å–ª—É—á–∞–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ BTree-–∏–Ω–¥–µ–∫—Å–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—É–¥–µ—Ç —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω.

---
layout: footnote
footnoteClass: text-xs
---

## –ó–∞–≥–ª—è–Ω–µ–º –≤ –∏–Ω–¥–µ–∫—Å (BTree)

<img src="/images/btree-range-search.png" class="text-center m-auto object-scale-down max-h-84">

::footnote::

–ò—Å—Ç–æ—á–Ω–∏–∫: [Postgres Professional: –∫—É—Ä—Å ¬´–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤¬ª](https://postgrespro.ru/education/courses/QPT), —Ç–µ–º–∞ ‚Ññ4 ¬´–ò–Ω–¥–µ–∫—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø¬ª.

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [–ò–Ω–¥–µ–∫—Å—ã –≤ PostgreSQL ‚Äî 4](https://habr.com/en/company/postgrespro/blog/330544/)

---

## –ü–æ–¥—Å—Ç–∞–≤–∞!

–í PostgreSQL –¥–∞–∂–µ –≤ —Å–∞–º–æ–π –ø–æ—Å–ª–µ–¥–Ω–µ–π 14-–π –≤–µ—Ä—Å–∏–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞—Ç–æ—á–µ–Ω—ã –ø–æ–¥ —Ä–∞–±–æ—Ç—É –Ω–∞ HDD:

> - `seq_page_cost (floating point) `
>
>    Sets the planner's estimate of the cost of a disk page fetch that is part of a series of sequential fetches. **The default is 1.0**.
>
> - `random_page_cost (floating point)`
>
>    Sets the planner's estimate of the cost of a non-sequentially-fetched disk page. **The default is 4.0**.

–≠—Ç–æ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –±—É–¥–µ—Ç —á–∞—â–µ –≤—ã–±–∏—Ä–∞—Ç—å seq scan –ø—Ä–∏ –∂–∏–≤–æ–º-—Ç–æ –∏–Ω–¥–µ–∫—Å–µ!

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ [PgTune](https://pgtune.leopard.in.ua/)!

<qr-code url="https://pgtune.leopard.in.ua/" caption="pgtune.leopard.in.ua" class="absolute bottom-0 right-0 w-32" />

---
layout: footnote
footnoteClass: text-xs
---

## Bitmap index scan

–°—Ç—Ä–æ–∏—Ç—Å—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–∞—è –±–∏—Ç–æ–≤–∞—è –∫–∞—Ä—Ç–∞, —á—Ç–æ–±—ã —á–∏—Ç–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ –æ–¥–Ω–æ–º—É —Ä–∞–∑—É.

<img src="/images/btree-bitmap-scan.png" class="text-center m-auto object-scale-down max-h-80">

::footnote::

–ò—Å—Ç–æ—á–Ω–∏–∫: [Postgres Professional: –∫—É—Ä—Å ¬´–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤¬ª](https://postgrespro.ru/education/courses/QPT), —Ç–µ–º–∞ ‚Ññ5 ¬´–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –±–∏—Ç–æ–≤–æ–π –∫–∞—Ä—Ç–µ¬ª.

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [–ò–Ω–¥–µ–∫—Å—ã –≤ PostgreSQL ‚Äî 4](https://habr.com/en/company/postgrespro/blog/330544/)

<!-- –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü —Å –¥–∏—Å–∫–∞ (—á—Ç–µ–Ω–∏–µ, –≤—ã—Ç–µ—Å–Ω–µ–Ω–µ–Ω–∏–µ, –≤–æ—Ç —ç—Ç–æ –≤—Å—ë) -->

---
layout: footnote
footnoteClass: text-xs
---

## –ö–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?

<img class="text-center m-auto object-scale-down max-h-96" alt="–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –¥–æ—Å—Ç—É–ø–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏" src="/images/index-access-methods-efficiency.png" />

::footnote::

–ò—Å—Ç–æ—á–Ω–∏–∫: [Postgres Pro: –∫—É—Ä—Å ¬´–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤¬ª](https://postgrespro.ru/education/courses/QPT), —Ç–µ–º–∞ ‚Ññ5 ¬´–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –±–∏—Ç–æ–≤–æ–π –∫–∞—Ä—Ç–µ¬ª.

---

## Index only scan

–ï—Å–ª–∏ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ, –Ω—É–∂–Ω—ã–µ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞, –ª–µ–∂–∞—Ç –≤ –∏–Ω–¥–µ–∫—Å–µ (–∏ MVCC-–∑–≤—ë–∑–¥—ã —Å—Ö–æ–¥—è—Ç—Å—è), —Ç–æ –º–æ–∂–Ω–æ –¥–∞–∂–µ –Ω–µ —Ö–æ–¥–∏—Ç—å –Ω–∞ –¥–∏—Å–∫!

–ù–æ –∫–∞–∫ —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∏—á—å?

–°–ø–æ–π–ª–µ—Ä: –∏–∑–±–µ–≥–∞–π—Ç–µ `SELECT *`

---

## –ú–Ω–æ–≥–æ–∫–æ–ª–æ–Ω–æ—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã

- —á–∏—Å–ª–æ —Å—Ç–æ–ª–±—Ü–æ–≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ. 32

- BTree, GIN, GiST, SP-GiST

- –ü–æ—Ä—è–¥–æ–∫ —Å—Ç–æ–ª–±—Ü–æ–≤ –≤–∞–∂–µ–Ω!

```sql
CREATE INDEX ON users(account_id, age)

SELECT * FROM users WHERE account_id = 1 AND age < 30
SELECT * FROM users WHERE account_id = 1

CREATE INDEX ON users(account_id) -- –Ω–µ –Ω—É–∂–µ–Ω!
CREATE INDEX ON users(age)        -- –Ω—É–∂–µ–Ω!
```

---
layout: footnote
footnoteClass: text-xs
---

## –ü–æ–∫—Ä—ã–≤–∞—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã

–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ª–∏—à–Ω–∏—Ö –∫–æ–ª–æ–Ω–æ–∫ –≤ –∏–Ω–¥–µ–∫—Å, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–∏—à–ª–æ—Å—å —Ö–æ–¥–∏—Ç—å –≤ —Ç–∞–±–ª–∏—Ü—É, –∞ –≤—Å—ë —Å—Ä–∞–∑—É –¥–æ—Å—Ç–∞—Ç—å –∏–∑ –∏–Ω–¥–µ–∫—Å–∞\*

PostgreSQL 11+ –¥–æ–±–∞–≤–∏–ª –ø–æ–¥–¥–µ—Ä–∂–∫—É `INCLUDE`, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –¥–æ–ø. –¥–∞–Ω–Ω—ã–µ –≤ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã:

```sql
CREATE UNIQUE INDEX index_fk_on_listings
  ON listings (`product_id`, site_id)
  INCLUDE (`id`);
```

–û—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –≤–∫–ª—é—á–∞—Ç—å –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É—Å–∫–æ—Ä—è—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ JOIN'—ã.

```sql
SELECT *
FROM products
JOIN listings           ON products.id = `listings.product_id`
JOIN listing_variations ON `listings.id` = listing_variations.listing_id
```

::footnote::

–í ActiveRecord [—Ñ–∏—á—É –Ω–µ –¥–æ–±–∞–≤–∏–ª–∏](https://github.com/rails/rails/pull/37515), –∞ –≤–æ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –≥–µ–º —É–∂–µ –µ—Å—Ç—å: [`activerecord-covering-index`](https://gitlab.com/schlock/activerecord-covering-index).

---
layout: footnote
---

## –†–∞–∑–º–µ—Ä –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ

<img src="/images/if-you-know-what-i-mean-meme.png" class="text-center m-auto object-scale-down max-h-96">

::footnote::

–ß–µ–º **–º–µ–Ω—å—à–µ** –∏–Ω–¥–µ–∫—Å, —Ç–µ–º –±–æ–ª–µ–µ –æ–Ω ¬´–ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª–µ–Ω¬ª –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞.

---

## –ß–∞—Å—Ç–∏—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã

–î–∞–Ω–æ:

```ruby
class Listing < ActiveRecord::Base
  scope :published, -> { where.not(item_id: nil) }
end
```

–°–æ–∑–¥–∞–¥–∏–º –¥–≤–∞ –∏–Ω–¥–µ–∫—Å–∞: –ø—Ä–æ—Å—Ç–æ–π –∏ —á–∞—Å—Ç–∏—á–Ω—ã–π ‚Äî —Å —É—Å–ª–æ–≤–∏–µ–º `WHERE item_id IS NOT NULL` (–≤ —Ç–∞–±–ª–∏—Ü–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –ø—Ä–∏–º–µ—Ä–Ω–æ 10% —Å—Ç—Ä–æ–∫):

```sql
CREATE INDEX index_listings_on_item_id ON listings (item_id);

CREATE INDEX index_listings_on_item_id_not_null ON listings (item_id)
  WHERE item_id IS NOT NULL;
```

–ò‚Ä¶¬†ü•Å

---

## –ß–∞—Å—Ç–∏—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã

```sql {6,12}
example_database=# \di+ index_listings_on_*
-[ RECORD 1 ]-+----------------------------------
Name          | index_listings_on_item_id
Table         | listings
Access method | btree
Size          | 290 MB

-[ RECORD 2 ]-+----------------------------------
Name          | index_listings_on_item_id_not_null
Table         | listings
Access method | btree
Size          | 38 MB
```

–ü–æ–º–Ω–∏–º, —á—Ç–æ `NULL != NULL`, –¥–∞?

```
example_database=# EXPLAIN SELECT * FROM listings WHERE item_id = '100500';

 Index Scan using index_listings_on_item_id_not_null on listings  (cost=0.14..8.16 rows=1 width=373)
   Index Cond: ((item_id)::text = '100500'::text)
```

<!--
–û–±—ã—á–Ω–æ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Ç–∞–∫–æ–π –∂–µ `WHERE`, –Ω–æ –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –≤ WHERE –Ω–µ—Ç —É—Å–ª–æ–≤–∏—è –Ω–∞ NOT NULL.
-->

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã

```sql
CREATE UNIQUE INDEX username_constraints
  ON users (`LOWER(username)`);
```

 - –ø–æ–∑–≤–æ–ª—è—é—Ç —É—Å–∫–æ—Ä—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å —Ç–æ—á–Ω–æ —Ç–∞–∫–∏–º –∂–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º –≤ SELECT, WHERE –∏–ª–∏ ORDER BY
 - –ø–æ–∑–≤–æ–ª—è—é—Ç –∫–∞–∫ –±—ã ¬´–∑–∞–∫—ç—à–∏—Ä–æ–≤–∞—Ç—å¬ª –ø—Ä–æ–∏–∑–≤–æ–¥–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
 - –µ—Å—Ç—å —Å–≤–æ—è –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
 - ¬´–¥–æ—Ä–æ–≥–æ–µ¬ª –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ
 - –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∞–º–æ–ø–∏—Å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å `IMMUTABLE`)

---
layout: footnote
---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏–Ω–¥–µ–∫—Å–æ–≤

–ï—Å–ª–∏ –≤ –∑–∞–ø—Ä–æ—Å–µ –∏–¥—ë—Ç –æ—Ç–±–æ—Ä –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∫–æ–ª–æ–Ω–∫–∞–º, —Ç–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –º–æ–∂–µ—Ç –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–∏—Ç–æ–≤—ã—Ö –∫–∞—Ä—Ç –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏ –∏—Ö –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å.

```sql
CREATE INDEX on t(a);
CREATE INDEX on t(b);
ANALYZE t;
EXPLAIN SELECT * FROM t WHERE a <= 100 AND b = 'a';
```

```
   Recheck Cond: ((a <= 100) AND (b = 'a'::text))
   ->  BitmapAnd
         ->  Bitmap Index Scan on t_a_idx
               Index Cond: (a <= 100)
         ->  Bitmap Index Scan on t_b_idx
               Index Cond: (b = 'a'::text)
```

::footnote::

[habr.com/ru/company/postgrespro/blog/326096](https://habr.com/ru/company/postgrespro/blog/326096/)

<qr-code url="https://habr.com/ru/company/postgrespro/blog/326096/" caption="habr.com/ru/company/postgrespro/blog/326096" class="absolute bottom-0 right-0 w-36" />

---
layout: intro
---

# –Ø —Å–ª—ã—à–∞–ª, –æ–Ω–∏ —Ä–∞–∑–Ω—ã–µ –±—ã–≤–∞—é—Ç

BTree, Hash, GIN, GiST, SP-GiST, BRIN, Bloom, RUM, —á—Ç–æ, –∑–∞—á–µ–º, –ø–æ—á–µ–º—É?

---
layout: footnote
---

## BTree

 - c–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¥–µ—Ä–µ–≤–æ
 - —Å–∏–ª—å–Ω–æ –≤–µ—Ç–≤–∏—Å—Ç–æ–µ (–º–Ω–æ–≥–æ –¥–æ—á–µ—Ä–Ω–∏—Ö —É–∑–ª–æ–≤)
 - –¥–≤—É—Å–≤—è–∑–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑ –ª–∏—Å—Ç—å–µ–≤ –æ–¥–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è

<img class="m-auto text-center object-scale-down h-max-72" src="/images/b-tree.png" />

::footnote::
[habr.com/ru/company/postgrespro/blog/330544](https://habr.com/ru/company/postgrespro/blog/330544/)

<!--
–º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –¥–∏—Å–∫–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ –±–ª–æ—á–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö

–õ—É—á—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–ª—É—á–∞–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö id –∏ —Ö—É–∂–µ ‚Äî¬†–≤ —Å–ª—É—á–∞–µ —Å–ª—É—á–∞–π–Ω—ã—Ö UUID.
-->

---
layout: footnote
---

## BTree

–°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞: O(log(n))

–û–ø–µ—Ä–∞—Ü–∏–∏: `<`, `<=`, `=`, `>=`, `>`, `IN`, `BETWEEN`, `IS NULL`, `IS NOT NULL`, `LIKE 'smth%'`, `~ '^smth'`

–ë–æ–Ω—É—Å: —É—Å–∫–æ—Ä—è–µ—Ç `ORDER BY`, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å

–î–ª—è –ø–µ—Ä–≤–∏—á–Ω—ã—Ö –∫–ª—é—á–µ–π –ª—É—á—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–ª—É—á–∞–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö id –∏ —Ö—É–∂–µ ‚Äî¬†–≤ —Å–ª—É—á–∞–µ —Å–ª—É—á–∞–π–Ω—ã—Ö UUID.

::footnote::
[habr.com/ru/company/postgrespro/blog/330544](https://habr.com/ru/company/postgrespro/blog/330544/)

<qr-code url="https://habr.com/ru/company/postgrespro/blog/330544/" caption="habr.com/ru/company/postgrespro/blog/330544" class="absolute bottom-0 right-0 w-48" />

---
layout: footnote
---

## Hash

–°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞: O(1)

–û–ø–µ—Ä–∞—Ü–∏–∏: —Ç–æ–ª—å–∫–æ `=`

–ö–æ–º–ø–∞–∫—Ç–Ω–µ–µ, —á–µ–º B-Tree, –Ω–æ –±—ã—Å—Ç—Ä–µ–µ —Ç–æ–ª—å–∫–æ –Ω–∞ _–æ—á–µ–Ω—å_ –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö –∏ –Ω–∞ –≤—ã–±–æ—Ä–∫–∞—Ö –µ–¥–∏–Ω–∏—á–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.

–ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å :-(

<img class="m-auto text-center" src="/images/hash-index.png" />

<div class="text-xs">

**–û—Å—Ç–æ—Ä–æ–∂–Ω–æ!** –í –±–æ—é –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞—è —Å PostgreSQL 10 (–Ω–æ —ç—Ç–æ —Å–∞–º–∞—è —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –∏–∑ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö)
</div>

::footnote::
–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [habr.com/ru/company/postgrespro/blog/328280](https://habr.com/ru/company/postgrespro/blog/328280/)

<!--
–ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –∏ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–∞.

–ï–≥–æ –≤–æ–æ–±—â–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–ª–∏ ¬´–¥–æ –∫—É—á–∏¬ª ‚Äî –Ω—É —Ä–∞–∑ —É–∂ —É –Ω–∞—Å —Ö—ç—à-—Ñ—É–Ω–∫—Ü–∏—è, –¥–∞–≤–∞–π—Ç–µ —Å–¥–µ–ª–∞–µ–º –∏ –∏–Ω–¥–µ–∫—Å –Ω–∞ –µ—ë –æ—Å–Ω–æ–≤–µ. –ò –¥–æ–ª–≥–æ–µ –≤—Ä–µ–º—è –Ω–µ —É–¥–µ–ª—è–ª–∏ –≤–Ω–∏–º–∞–Ω–∏—è –∏ –≤ –∏—Ç–æ–≥–µ –±—ã–ª–∞ –Ω–µ–ø–æ–Ω—è—Ç–Ω–∞—è –∏ –Ω–µ –æ—á–µ–Ω—å —é–∑–∞–±–µ–ª—å–Ω–∞—è —à—Ç—É–∫–∞.

–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∏ —Å–µ–π—á–∞—Å –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å B-Tree –Ω–∞ –Ω–µ –æ—á–µ–Ω—å –±–∞–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö.
-->

---
layout: footnote
---

## GIN

- Generalized Inverted Index

- –í–Ω—É—Ç—Ä–∏ BTree, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ —Å–æ—Å—Ç–∞–≤–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è (–ø—Ä–∏–º–µ—Ä: –ª–µ–∫—Å–µ–º—ã —Å–ª–æ–≤) –∏ —Å–ø–∏—Å–æ–∫/–¥–µ—Ä–µ–≤–æ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ —Å—Ç—Ä–æ–∫–∏

- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –±—å—é—Ç—Å—è –Ω–∞ –ø—Ä–æ—Å—Ç—ã–µ —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ

- –ú–æ–∂–µ—Ç —Ä–∞—Å—à–∏—Ä—è—Ç—å—Å—è –ø–æ–¥ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

<br/>

### Operations

hstore: `@>`, `?`, `?&`, `?|`

jsonb: `@>`, `?`, `?&`, `?|`

array: `<@`, `@>`, `=`, `&&`

::footnote::
[habr.com/ru/company/postgrespro/blog/340978](https://habrahabr.ru/company/postgrespro/blog/340978/)

<qr-code url="https://habrahabr.ru/company/postgrespro/blog/340978/" caption="habr.com/ru/company/postgrespro/blog/340978" class="absolute bottom-0 right-0 w-48" />

<!--
@> - contains
<@ - is contained

–ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –∏ –ø–æ–∏—Å–∫ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º

–û–Ω–æ –±—ã —Ö–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏–ª–æ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∫–ª—é—á–µ–π, –Ω–æ –ø—É—Ö–Ω–µ—Ç –æ—â—É—Ç–∏–º–æ —Å–∏–ª—å–Ω–µ–µ B-Tree –∏ –Ω–∞–¥–æ –µ–≥–æ –∏–Ω–æ–≥–¥–∞ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞—Ç—å.
-->

---
layout: footnote
---

## GIN

<img class="m-auto h-auto w-auto object-scale-down text-center max-h-96" src="/images/gin-tree.png" />

::footnote::
–ò—Å—Ç–æ—á–Ω–∏–∫: [habr.com/ru/company/postgrespro/blog/340978](https://habrahabr.ru/company/postgrespro/blog/340978/)


---
layout: footnote
---

## GiST

- Generalized Search Tree, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ

- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ (B-trees, R-trees)

- –ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏ –¥–∞–Ω–Ω—ã–µ (box, circle, point, polygon), –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ (tsquery, tsvector)

- –ù–µ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –¥–∞–Ω–Ω—ã–µ, –Ω–æ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è _–ø—Ä–µ–¥–∏–∫–∞—Ç_, –∫–æ—Ç–æ—Ä–æ–º—É –¥–∞–Ω–Ω—ã–µ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—Ç

- Operations: `<<`, `>>`, `~=`, `<^`, `>^`, `<->`, `<@`, `@>`

- –î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ `=`, `<`, `>` –Ω—É–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `btree_gist`

- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç exclusion constraint (–∫–∞–∫ unique, –Ω–æ –Ω–∞ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∞—Ö)

::footnote::
[habr.com/ru/company/postgrespro/blog/333878/](https://habrahabr.ru/company/postgrespro/blog/333878/)

<qr-code url="https://habrahabr.ru/company/postgrespro/blog/333878/" caption="habr.com/ru/company/postgrespro/blog/333878" class="absolute bottom-0 right-0 w-48" />


<!--

Generalized ‚Äî –≤ —Ç–æ–º —Å–º—ã—Å–ª–µ, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–µ–±—è —Å—Ç—Ä–æ–∏—Ç—å –∏ B-Tree –∏ –¥—Ä—É–≥–∏–µ —Ç–∏–ø—ã –∏–Ω–¥–µ–∫—Å–æ–≤.

B-Tree –∂—ë—Å—Ç–∫–æ –∑–∞–≤—è–∑–∞–Ω–æ –Ω–∞ —Å–µ–º–∞–Ω—Ç–∏–∫—É –æ–ø–µ—Ä–∞—Ü–∏–π ¬´–±–æ–ª—å—à–µ¬ª, ¬´–º–µ–Ω—å—à–µ¬ª, ¬´—Ä–∞–≤–Ω–æ¬ª, —á—Ç–æ —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —á–∏—Å–µ–ª –∏ –ø–æ—Å–∏–º–≤–æ–ª—å–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å—Ç—Ä–æ–∫, –Ω–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Ö–æ—Ç—è –±—ã —Å –¥–≤—É—Ö–º–µ—Ä–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö —Å–º—ã—Å–ª –∏–º–µ—é—Ç —Å–æ–≤—Å–µ–º –¥—Ä—É–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω—É–∂–µ–Ω GiST.

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ GiST –∏–∑ –∫–æ—Ä–æ–±–∫–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –æ—Ç B-Tree, –∏—Ö –Ω–∞–¥–æ –≤–∫–ª—é—á–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ

–ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≥–µ–æ–¥–∞–Ω–Ω—ã–º–∏

Exclusion constraints ‚Äî –∫–ª–∞—Å—Å–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä—É—é –∫–∞–∫ —Ä–∞–∑ –¥–∞—ë—Ç GiST. –ú–æ–∂–Ω–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∞–∑—ã –∂–µ–ª–µ–∑–æ–±–µ—Ç–æ–Ω–Ω–æ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –Ω–µ–ø–µ—Ä–µ—Å–µ–∫–∞–µ–º–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ –∏–ª–∏ –æ–±–ª–∞—Å—Ç–µ–π –Ω–∞ –∫–∞—Ä—Ç–µ. –¢.–µ. —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–æ–∫ –∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –¥–∞—Å—Ç –≤–∞–º –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –æ–¥–Ω—É –∏ —Ç—É –∂–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∫—É –Ω–∞ –æ–¥–Ω–æ –∏ —Ç–æ –∂–µ –≤—Ä–µ–º—è.

-->

---
layout: footnote
---

## GiST

<img class="m-auto h-auto w-auto object-scale-down text-center max-h-96" src="/images/gist-tree.png" />

::footnote::
–ò—Å—Ç–æ—á–Ω–∏–∫: [habr.com/ru/company/postgrespro/blog/333878/](https://habrahabr.ru/company/postgrespro/blog/333878/)

---
layout: footnote
---

## GiST

<img class="m-auto h-auto w-auto object-scale-down text-center max-h-96" src="/images/gist-for-map.png" />

::footnote::
–ò—Å—Ç–æ—á–Ω–∏–∫: [habr.com/ru/company/postgrespro/blog/333878/](https://habrahabr.ru/company/postgrespro/blog/333878/)

---
layout: footnote
---

## SP-GiST

- Space-Partitioned GiST

- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –Ω–µ—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–Ω–æ–≥–æ–º–µ—Ä–Ω—ã—Ö –Ω–µ–ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏—Ö—Å—è —Å—Ç—Ä—É–∫—Ç—É—Ä

- –ü—Ä–µ—Ñ–∏–∫—Å–Ω—ã–µ –¥–µ—Ä–µ–≤—å—è –∏ –ø—Ä–æ—á–∏–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ –Ω–µ–ø–µ—Ä–µ—Å–µ–∫–∞—é—â–∏–µ—Å—è —à—Ç—É–∫–∏

- –ú–æ–∂–µ—Ç –±—ã—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ BTree –¥–ª—è –ø—Ä–µ—Ñ–∏–∫—Å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞

- –í–Ω—É—Ç—Ä–∏ —Å–µ–±—è —Ö—Ä–∞–Ω–∏—Ç _–º–µ—Ç–∫–∏_ –∏ _–ø—Ä–µ—Ñ–∏–∫—Å—ã_, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –∏–¥—ë—Ç –ø–æ–∏—Å–∫

- PG 9.2+

::footnote::

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [habr.com/ru/company/postgrespro/blog/337502](https://habrahabr.ru/company/postgrespro/blog/337502/)

<qr-code url="https://habrahabr.ru/company/postgrespro/blog/337502/" caption="habr.com/ru/company/postgrespro/blog/337502" class="absolute bottom-0 right-0 w-48" />

---
layout: footnote
---

## SP-GiST

<img class="m-auto h-auto w-auto object-scale-down text-center max-h-96" src="/images/sp-gist-for-map.png" />

::footnote::
–ò—Å—Ç–æ—á–Ω–∏–∫: [habr.com/ru/company/postgrespro/blog/337502](https://habrahabr.ru/company/postgrespro/blog/337502/)

---
layout: footnote
---

## SP-GiST

<img class="m-auto text-center max-h-96" src="/images/sp-gist-tree.png" />

::footnote::
–ò—Å—Ç–æ—á–Ω–∏–∫: [habr.com/ru/company/postgrespro/blog/337502](https://habrahabr.ru/company/postgrespro/blog/337502/)

---
layout: footnote
---

## BRIN

- Block Range Index

- –û—á–µ–Ω—å –±–æ–ª—å—à–∏–µ —Ç–∞–±–ª–∏—Ü—ã, –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ

- –•—Ä–∞–Ω–∏—Ç MIN –∏ MAX –∑–Ω–∞—á–µ–Ω–∏–π –∫–æ–ª–æ–Ω–∫–∏ –≤ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

  –Ω–∞—á–∏–Ω–∞—è —Å PG 14 —Ö—Ä–∞–Ω–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤

- –û—á–µ–Ω—å –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π –∏ –¥–µ—à—ë–≤—ã–π –≤ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–∏

- PG 9.5+

::footnote::
–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [habr.com/ru/company/postgrespro/blog/346460](https://habrahabr.ru/company/postgrespro/blog/346460/)

<qr-code url="https://habrahabr.ru/company/postgrespro/blog/346460/" caption="habr.com/ru/company/postgrespro/blog/346460" class="absolute bottom-0 right-0 w-48" />

<!--
–°—É—Ç—å –∏–Ω–¥–µ–∫—Å–∞ –≤ –∫–æ–º–ø—Ä–æ–º–∏—Å—Å–µ –º–µ–∂–¥—É —Å–∫–æ—Ä–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç—ã –∏ —Ä–∞–∑–º–µ—Ä–æ–º. –ò–Ω–¥–µ–∫—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–µ—è—Ç—å –±–æÃÅ–ª—å—à—É—é —á–∞—Å—Ç—å —Ç–∞–±–ª–∏—Ü—ã.

–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –≤—Å—Ç—Ä–µ—á–∞—é—â–∏–µ—Å—è –≤ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Å—Ç–æ–ª–±—Ü–µ –≤ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π –∑–æ–Ω–µ
-->

---
layout: footnote
---

## Bloom

 - –°—Ç—Ä–æ—è—Ç—Å—è –±–∏—Ç–æ–≤—ã–µ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã –ø–æ —Ö—ç—à-—Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏–π

 - –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω—ã–π –∏–Ω–¥–µ–∫—Å —Å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

   –ò–Ω–¥–µ–∫—Å –¥–∞—ë—Ç false positives –∏ –ª–∏—à–Ω–∏–µ —á—Ç–µ–Ω–∏—è —Å –¥–∏—Å–∫–∞

 - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ `=`, –Ω–æ –º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å –ø–æ –º–Ω–æ–≥–∏–º –∫–æ–ª–æ–Ω–∫–∞–º

 - –ë–æ–ª—å—à–µ, —á–µ–º BRIN, –Ω–æ –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ —á–µ–º Hash

 - –ö–æ–º–ø—Ä–æ–º–∏—Å—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –æ—á–µ–Ω—å –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü

 - –ù—É–∂–Ω–æ –ø–æ–¥–±–∏—Ä–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

 - PG 9.6+

::footnote::

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [habr.com/ru/company/postgrespro/blog/349224](https://habr.com/ru/company/postgrespro/blog/349224/)

<qr-code url="https://habr.com/ru/company/postgrespro/blog/349224/" caption="habr.com/ru/company/postgrespro/blog/349224" class="absolute bottom-0 right-0 w-48" />

---
layout: footnote
---

## RUM

- GIN 2.0

- –≤–º–µ—Å—Ç–µ —Å –Ω–æ–º–µ—Ä–∞–º–∏ —Å—Ç—Ä–æ–∫ —Ö—Ä–∞–Ω–∏—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É —Å–ª–æ–≤–∞–º–∏

- –ú–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å –ø—Ä—è–º–æ –≤ –∏–Ω–¥–µ–∫—Å–µ –∏ –¥–µ–ª–∞—Ç—å —Ñ—Ä–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫ (–∫–æ–≥–¥–∞ –ø–æ—Ä—è–¥–æ–∫ —Å–ª–æ–≤ –≤–∞–∂–µ–Ω)

- –ù–µ—Ç –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –ø–æ—Å—Ç–∞–≤–∫–µ ‚Äî –Ω—É–∂–Ω–æ —Å—Ç–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ.

- PG 9.6+

::footnote::
–ò—Å—Ö–æ–¥–Ω–∏–∫–∏: [github.com/postgrespro/rum](https://github.com/postgrespro/rum)

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [https://habr.com/ru/company/postgrespro/blog/343488](https://habr.com/ru/company/postgrespro/blog/343488/)

<qr-code url="https://habr.com/ru/company/postgrespro/blog/343488/" caption="habr.com/ru/company/postgrespro/blog/343488" class="absolute bottom-0 right-0 w-48" />

---

## –≠–∫–∑–æ—Ç–∏–∫–∞

 - [ZomboDB](https://github.com/zombodb/zombodb) ‚Äî¬†ElasticSearch –∫–∞–∫ –∏–Ω–¥–µ–∫—Å –≤ –ë–î

   ```sql
   CREATE EXTENSION zombodb;

   CREATE INDEX idxproducts
       ON products
    USING zombodb ((products.*))
     WITH (url='localhost:9200/');

   SELECT *
     FROM products
    WHERE products ==> '(keywords:(sports OR box) OR long_description:"wooden away"~5) AND price:[1000 TO 20000]';
   ```

<qr-code url="https://github.com/zombodb/zombodb" caption="github.com/zombodb/zombodb" class="absolute bottom-0 right-0 w-42" />

---

## –ò—Ç–æ–≥–æ

BTree ‚Äî –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ç–∏–ø–æ–≤ –∏ –∑–∞–ø—Ä–æ—Å–æ–≤

GIN ‚Äî –î–ª—è JSONB/hstore/arrays/–ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞

GiST ‚Äî –î–ª—è –≥–µ–æ–º–µ—Ç—Ä–∏–∏/–≥–µ–æ–≥—Ä–∞—Ñ–∏–∏/exclusion constraints/–ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞

SP-GiST ‚Äî –î–ª—è –≥–µ–æ–º–µ—Ç—Ä–∏–∏/–≥–µ–æ–≥—Ä–∞—Ñ–∏–∏/exclusion constraints/–ø—Ä–µ—Ñ–∏–∫—Å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞

Hash ‚Äî –î–ª—è `=`, –Ω–æ —Å—Ç–æ–∏—Ç –ª–∏?

BRIN ‚Äî –¥–ª—è –±–æ–ª—å—à–∏—Ö –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ-–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö (write-only) —Ç–∞–±–ª–∏—Ü

Bloom ‚Äî –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –º–Ω–æ–≥–∏–º –∫–æ–ª–æ–Ω–∫–∞–º –≤ –æ–≥—Ä–æ–º–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö

RUM ‚Äî¬†–¥–ª—è —Ñ—Ä–∞–∑–æ–≤–æ–≥–æ –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞

---
layout: intro
---

# –ò–Ω–¥–µ–∫—Å—ã –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö

–∏–ª–∏ ~~—Ç—ã—Å—è—á–∞ –∏~~ –≤—Å–µ–≥–æ –æ–¥–∏–Ω —Å–ø–æ—Å–æ–± –ø–æ–ª–æ–∂–∏—Ç—å –ø—Ä–æ–¥–∞–∫—à–µ–Ω (–∑–∞—Ç–æ –∫–∞–∫–æ–π!)

---

## –ê –≤ —á—ë–º –ø—Ä–æ–±–ª–µ–º–∞ –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö?

**–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏!** –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞ –≤ PG –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ç–∞–±–ª–∏—Ü—É –Ω–∞ –∑–∞–ø–∏—Å—å —Ü–µ–ª–∏–∫–æ–º.

–ó–∞–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Ç—è—Ç –∑–∞–ø–∏—Å–∞—Ç—å –≤ —ç—Ç—É –∂–µ —Ç–∞–±–ª–∏—Ü—É –≤—Å—Ç–∞—é—Ç –≤ –æ—á–µ—Ä–µ–¥—å –∑–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π‚Ä¶

–ü–æ–∫–∞ –≤—Å–µ –ø—É–ª—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –Ω–µ –∏—Å—á–µ—Ä–ø–∞—é—Ç—Å—è.

–í—É–∞–ª—è! –ú—ã –ª–µ–∂–∏–º! ü§°

<hr />

–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π DDL ‚Äî –±–ª–∞–≥–æ, –Ω–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ—Ç–ø—É—Å–∫–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –∫–æ–Ω—Ü–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏.

---

## –ê —á—Ç–æ –¥–µ–ª–∞—Ç—å?

–û—Ç–∫–∞–∑–∞—Ç—å—Å—è –æ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ–≥–æ DDL –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ.

```ruby {2,5}
class AddMissingIndexes < ActiveRecord::Migration[6.1]
  disable_ddl_transaction!

  def change
    add_index :big_table, %i[column], algorithm: :concurrently
  end
end
```

---
layout: footnote
---

## –í—Å—ë —Ä–∞–≤–Ω–æ –≤—Å—ë –≤—Å—Ç–∞—ë—Ç ¬´–∫–æ–ª–æ–º¬ª?

`CREATE INDEX CONCURRENTLY` –≤—Å—ë —Ä–∞–≤–Ω–æ –±–µ—Ä—ë—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫—É –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü—ã, —á—Ç–æ–±—ã –µ—ë —Ç—É—Ç –∂–µ –æ—Ç–ø—É—Å—Ç–∏—Ç—å, –Ω–æ –µ—Å–ª–∏ –≤ —Ç–∞–±–ª–∏—Ü—É –∞–∫—Ç–∏–≤–Ω–æ –ø–∏—à—É—Ç –¥—Ä—É–≥–∏–µ –¥–æ–ª–≥–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏, —Ç–æ —Å–ª–µ–¥–æ–º –∑–∞ –∂–¥—É—â–∏–º –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ `CREATE INDEX` —Å–∫–æ–ø—è—Ç—Å—è –æ—á–µ—Ä–µ–¥—å –∏–∑ –¥—Ä—É–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏‚Ä¶ üí•

### ~~–•–∞–∫~~ —Ä–µ—à–µ–Ω–∏–µ

–°–Ω–∏–º–∞–π—Ç–µ –Ω–∞–≥—Ä—É–∑–∫—É –ø–µ—Ä–µ–¥ –Ω–∞–∫–∞—Ç–∫–æ–π –ª—é–±—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π –Ω–∞ –Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã ‚Äî –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Ç–µ Sidekiq, ‚Ä¶

::footnote::

–ò –∏–∑–±–µ–≥–∞–π—Ç–µ –¥–æ–ª–≥–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π! –ì–µ–º [isolator](https://github.com/palkan/isolator) –≤–∞–º –≤ –ø–æ–º–æ—â—å!

<qr-code url="https://github.com/palkan/isolator" caption="gem isolator" class="absolute bottom-0 right-0" />

---
layout: footnote
---

## –ö–∞–∫ –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–ª–æ—Ö—É—é –º–∏–≥—Ä–∞—Ü–∏—é?

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–∏–Ω—Ç–µ—Ä—ã:

```ruby
gem "strong_migrations"
```

–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –ø–æ–¥—Å–∫–∞–∂–µ—Ç, –∫–æ–≥–¥–∞ –æ–Ω–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–ø–∞—Å–Ω—ã –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ.

```
=== Dangerous operation detected #strong_migrations ===

Adding an index non-concurrently blocks writes. Instead, use:

class AddMissingIndexes < ActiveRecord::Migration[6.1]
  disable_ddl_transaction!

  def change
    add_index :table, :column, algorithm: :concurrently
  end
end
```

::footnote::

[github.com/ankane/strong_migrations](https://github.com/ankane/strong_migrations)

<qr-code url="https://github.com/ankane/strong_migrations" caption="gem strong_migrations" class="absolute bottom-0 right-0" />

<!-- –ù—É –∫–∞–∫, –ø–æ–¥—Å–∫–∞–∂–µ—Ç, –ø—Ä–æ—Å—Ç–æ –≤—ã–∫–∏–Ω–µ—Ç —ç–∫—Å–µ–ø—à–µ–Ω -->

---

## –ö–∞–∫ –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–ª–æ—Ö—É—é –º–∏–≥—Ä–∞—Ü–∏—é?

2. –ì–æ–Ω—è–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ CI:

```yaml {10}
  db-linters:
    steps:
      - attach_workspace:
          at: .
      - run:
          name: Backup db/structure.sql to compare for changes later
          command: cp -f db/structure.sql{,.bak}
      - run:
          name: Check that migrations are not broken
          command: bundle exec rails db:create db:migrate
      - run:
          name: Check that db/structure.sql is up to date (there should be no changes)
          command: git diff --exit-code --no-index -- db/structure.sql{.bak,}
      - run:
          name: Ensure seeds are valid
          command: bundle exec rails db:seed
```

---
layout: footnote
---

## –ò—Ç–æ–≥–æ: ¬´–ø—Ä–∞–≤–∏–ª–∞ –±—É—Ä–∞–≤—á–∏–∫–∞¬ª üëç

 1. –ù–∞–∫–ª–∞–¥—ã–≤–∞–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏

    –•–æ—Ä–æ—à–∞—è –Ω–æ–≤–æ—Å—Ç—å: `add_reference` –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö —É–∂–µ –∏—Ö –¥–æ–±–∞–≤–ª—è–µ—Ç

    –î–ª—è —Ç–∞–±–ª–∏—Ü, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ JOIN'–∞—Ö ¬´–ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ¬ª, –¥–æ–±–∞–≤–ª—è–π—Ç–µ –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á –≤ –∏–Ω–¥–µ–∫—Å –¥–ª—è index only scan.

 2. –î–µ–ª–∞–π—Ç–µ —á–∞—Å—Ç–∏—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã, –µ—Å–ª–∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ –æ–∂–∏–¥–∞—é—Ç—Å—è –ø—É—Å—Ç—ã–º–∏.

 3. –ù–µ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è OLAP-–∑–∞–ø—Ä–æ—Å–æ–≤ (–ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –æ—Ç—á—ë—Ç–æ–≤ –ø–æ –≤—Å–µ–º –¥–∞–Ω–Ω—ã—Ö –∏ —Ç.–ø.)

 4. –£–¥–∞–ª—è–π—Ç–µ –¥—É–±–ª–∏—Ä—É—é—â–∏–µ –∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–Ω–¥–µ–∫—Å—ã \*

::footnote::

\* [wiki.postgresql.org/wiki/Index_Maintenance](https://wiki.postgresql.org/wiki/Index_Maintenance)

<qr-code url="https://wiki.postgresql.org/wiki/Index_Maintenance" caption="PG Index Maintenance" class="absolute bottom-0 right-0" />

---

## –ß—Ç–æ –ø–æ—á–∏—Ç–∞—Ç—å?

 1. The Art of PostgreSQL: [theartofpostgresql.com](https://theartofpostgresql.com)

 2. Use the Index, Luke:   [use-the-index-luke.com](https://use-the-index-luke.com)

 3. Postgres Professional: –∫—É—Ä—Å ¬´–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤¬ª

    [postgrespro.ru/education/courses/QPT](https://postgrespro.ru/education/courses/QPT)

 4. –¶–∏–∫–ª —Å—Ç–∞—Ç–µ–π ¬´–ò–Ω–¥–µ–∫—Å—ã –≤ PostgreSQL¬ª

    [habr.com/ru/company/postgrespro/blog/326096](https://habr.com/ru/company/postgrespro/blog/326096/)

<div class="grid grid-cols-4 mt-4">
  <qr-code url="https://theartofpostgresql.com" caption="1. The Art of PostgreSQL" class="w-36" />
  <qr-code url="https://use-the-index-luke.com" caption="2. Use the Index, Luke" class="w-36" />
  <qr-code url="https://postgrespro.ru/education/courses/QPT" caption="3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤" class="w-36" />
  <qr-code url="https://habr.com/ru/company/postgrespro/blog/326096/" caption="4. –ò–Ω–¥–µ–∫—Å—ã –≤ PostgreSQL" class="w-36" />
</div>

---

## P.S> –û–±–Ω–æ–≤–ª—è–π—Ç–µ—Å—å!

 - PostgreSQL 14: —É–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞—Å–ø—É—Ö–∞–Ω–∏—è BTree, —É–ª—É—á—à–µ–Ω–∏–µ BRIN
 - PostgreSQL 13: –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –≤ BTree (–∫—Ä—É—Ç–æ –¥–ª—è foreign key)
 - PostgreSQL 12: –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–µ GiST-–∏–Ω–¥–µ–∫—Å—ã, `REINDEX CONCURRENTLY`
 - PostgreSQL 11: –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã (–∫—Ä–æ–º–µ GiST), –ø–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã
 - PostgreSQL 10: –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ BTree, –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–µ Hash-–∏–Ω–¥–µ–∫—Å—ã
 - PostgreSQL 9.6: ‚ò†Ô∏è (–∞–ª–ª–æ, –≤—ã —É–∂–µ –¥–æ–ª–∂–Ω—ã –±—ã–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å—Å—è —Å –Ω–µ—ë!)

<style>
  ul li { margin-bottom: 0.5rem; }
</style>

---
layout: footnote
---

## –ú–∏–Ω—É—Ç–∫–∞ –Ω–∞—Ç–∏–≤–Ω–æ–π —Ä–µ–∫–ª–∞–º—ã

–≠—Ç–æ (–∏ –º–Ω–æ–≥–æ–µ-–º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ) –º—ã –º–æ–∂–µ–º –≤ –≤–∞—Å –Ω–∞—Å–∏–ª—å–Ω–æ –≤–ø–∏—Ö–Ω—É—Ç—å –ø–æ–¥ –¥–∞–≤–ª–µ–Ω–∏–µ–º –Ω–∞ –Ω–∞—à–∏—Ö —Ñ–∏—Ä–º–µ–Ω–Ω—ã—Ö –∫—É—Ä—Å–∞—Ö Brainwashing.

<img class="mx-auto my-12 text-center max-h-36" src="/images/brainwashing.png" />

–í –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ —è —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–ª –ø—Ä–æ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö 4 (—á–µ—Ç—ã—Ä–µ) —á–∞—Å–∞ –ø–æ–¥—Ä—è–¥.

–ü—Ä–æ–≤–µ–¥—ë–º –≤–µ—Å–Ω–æ–π, –µ—Å–ª–∏ —ç–ø–∏–¥–µ–º–∏–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è —Å–∏—Ç—É–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª–∏—Ç ü§û

::footnote::

–ó–∞–ø–∏—Å—ã–≤–∞–π—Ç–µ—Å—å –≤ –¥–æ–±—Ä–æ–≤–æ–ª—å—Ü—ã –Ω–∞ [brainwashing.pro/rails](https://brainwashing.pro/rails).

<qr-code url="https://brainwashing.pro/rails?utm_source=saintprug&utm_medium=slides&utm_campaign=indexes-2021" caption="brainwashing.pro/rails" class="absolute bottom-0 right-0 w-40" />

---
layout: footnote
---

## –ù–∞–º –Ω—É–∂–Ω—ã —Ç–≤–æ–∏ –º–æ–∑–≥–∏!

<img class="mx-auto text-center max-h-96" src="/images/evl-ms-jobs-qrcode.png" />

::footnote::

–ü—É–Ω–∫—Ç –ø—Ä–∏–∑—ã–≤–∞ –Ω–∞ –≥–∞–ª–∞–∫—Ç–∏—á–µ—Å–∫—É—é —Å–ª—É–∂–±—É –ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É: [evl.ms/jobs](https://evl.ms/jobs/)

<!-- –Ω–æ –µ—Å–ª–∏ –Ω–µ —Ö–æ—á–µ—Ç—Å—è –∂–¥–∞—Ç—å –∏ –ø–ª–∞—Ç–∏—Ç—å –¥–µ–Ω—å–≥–∏ –∑–∞ –∫—É—Ä—Å—ã, –µ—Å—Ç—å –æ—Ç–ª–∏—á–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–∏—Ç—å —ç—Ç–∏ –∂–µ –∑–Ω–∞–Ω–∏—è –≤ –±–æ—é, –¥–∞ –µ—â—ë –∏ —Å –ø—Ä–∏–ª–∏—á–Ω—ã–º –∂–∞–ª–æ–≤–∞–Ω—å–µ–º –≤ –ø—Ä–∏–¥–∞—á—É! –ü—Ä–∏–¥—ë—Ç—Å—è –ø—Ä–∏—Å—è–≥–Ω—É—Ç—å –Ω–∞ –≤–µ—Ä–Ω–æ—Å—Ç—å –ò–º–ø–µ—Ä–∞—Ç–æ—Ä—É –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å—Å—è –ø–æ–∫–æ—Ä—è—Ç—å –¥–∞–ª—å–Ω–∏–µ –º–∏—Ä—ã –≤ –ì–∞–ª–∞–∫—Ç–∏–∫–µ, –Ω–æ –ø–æ–≤–µ—Ä—å—Ç–µ, –æ–Ω–æ —Ç–æ–≥–æ —Å—Ç–æ–∏—Ç! -->

---

# –í–Ω–∏–º–∞–Ω–∏–µ! –í–Ω–∏–º–∞–Ω–∏–µ!
## –°–ø–∞—Å–∏–±–æ –∑–∞ –≤–Ω–∏–º–∞–Ω–∏–µ!

<div class="grid grid-cols-4 grid-rows-3 mt-16 gap-4">

<div class="justify-self-end">
<img alt="Andrey Novikov" src="https://secure.gravatar.com/avatar/d0e95abdd0aed671ebd0920c16d393d4?s=512" class="w-32 h-32 scaled-image" />
</div>

<ul class="list-none col-span-2">
<li><a href="https://github.com/Envek"><logos-github-icon /> @Envek</a></li>
<li><a href="https://t.me/envek"><logos-telegram /> @Envek</a></li>
<li><a href="https://twitter.com/Envek"><logos-twitter /> @Envek</a></li>
<li><a href="https://www.instagram.com/Envek"><logos-instagram-icon /> @Envek</a></li>
</ul>

<div>
<qr-code url="https://github.com/Envek" caption="github.com/Envek" class="w-36" />
</div>

<div class="justify-self-end row-span-2">
<a href="https://evilmartians.com/"><img alt="Evil Martians" src="/images/01_Evil-Martians_Logo_v2.1_RGB.svg" class="w-32 h-32 scaled-image" /></a>
</div>

<div class="row-span-2 col-span-2">

- <logos-telegram />  [@evilmartians](https://t.me/evilmartians)
- <logos-twitter /> [@evilmartians_ru](https://twitter.com/evilmartians_ru/)
- <logos-instagram-icon /> [@evil.martians](https://www.instagram.com/evil.martians/)

–í–∞–∫–∞–Ω—Å–∏–∏: [evilmartians.com/jobs](https://evilmartians.com/jobs/)

–ë–ª–æ–≥: [evilmartians.com/chronicles](https://evilmartians.com/chronicles/)
</div>

<div>
<qr-code url="https://taplink.cc/evil.martians" caption="Evil Martians: links" class="w-36" />
</div>
</div>

<style>
  ul a { border-bottom: none !important; }
  ul { list-style-type: none !important; }
  ul li { margin-left: 0; padding-left: 0; }
</style>
